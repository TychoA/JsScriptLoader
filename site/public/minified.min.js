var Fabricator=function(){var e={};this.load=function(t){return new e[t]},this.register=function(t,i){e[t]=i},this.register("script1",script1),this.register("script2",script2),this.register("script3",script3)};window.onload=function(){(new Fabricator).load(document.querySelector("body").className).load()};var Page=function(){var e=document.querySelector("body");this.$page=document.createElement("div"),this.load=function(){e.appendChild(this.$page)},this.remove=function(){e.removeChild(this.$page)}},script1=function(){Page.call(this);var e=document.createElement("div");e.className="script1-container",e.innerHTML="this is the container for script 1";new Component(e);this.$page.appendChild(e)};script1.prototype=Object.create(Page.prototype);var Component=function(e){var t=document.createElement("p");t.innerHTML="This is a message for script 1",e.appendChild(t),this.remove=function(){e.removeChild(t)}},script2=function(){this.page=function(){console.log("script 2")}},script3=function(){var e=document.createElement("h1");e.innerHTML="A title for the index",this.page=function(){document.querySelector(".container").appendChild(e)}};